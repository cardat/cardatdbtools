---
title: "connect2postgres2"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{connect2postgres2}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(cardatdbtools)
if(!require("RPostgreSQL")) install.packages("RPostgreSQL"); library("RPostgreSQL")

username <- "postgis_user"

pwd <- get_pgpass(database = "postgis_car",
                  host = "swish4.tern.org.au",
                  user = username,
                  remote = TRUE,
                  savePassword = TRUE)

ch <- connect2postgres(
                 hostip = pwd[,1],
                 db = pwd[,3],
                 user = pwd[,4],
                 p = pwd[,5])

rm(pwd) # remove the password

dbGetQuery(ch, "select * from public.dbsize ")
```
